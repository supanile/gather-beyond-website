# ActiveUsersCard - Percentage Calculation Logic üìä

## ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Percentage

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 7d, 14d, 30d (Growth Percentage)

**‡∏ß‡∏±‡∏î‡∏à‡∏≤‡∏Å:** ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏¢‡∏≤‡∏ß‡∏Å‡∏ß‡πà‡∏≤

```typescript
// ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 7d vs 14d
current = 7d users    // ‡πÄ‡∏ä‡πà‡∏ô 25 users
previous = 14d users  // ‡πÄ‡∏ä‡πà‡∏ô 40 users

growthPercentage = ((25 - 40) / 40) * 100 = -37.5%
// ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô: üîª 38% (‡∏™‡∏µ‡πÅ‡∏î‡∏á)
```

**‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢:**
- **‡∏ö‡∏ß‡∏Å (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)**: Active users ‡πÉ‡∏ô 7d ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ active users ‡πÉ‡∏ô 14d = ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏î‡∏µ
- **‡∏•‡∏ö (‡πÅ‡∏î‡∏á)**: Active users ‡πÉ‡∏ô 7d ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ active users ‡πÉ‡∏ô 14d = ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏•‡∏î‡∏•‡∏á

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 60d (Activity Rate)

**‡∏ß‡∏±‡∏î‡∏à‡∏≤‡∏Å:** ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á active users ‡∏ï‡πà‡∏≠ total users

```typescript
totalUsers = 150        // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô users ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
activeUsers60d = 75     // users ‡∏ó‡∏µ‡πà active ‡πÉ‡∏ô 60 ‡∏ß‡∏±‡∏ô

activityRate = (75 / 150) * 100 = 50%
// ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô: üéØ 50% active (‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô)
```

**‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢:**
- **50%**: ‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ç‡∏≠‡∏á users ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏¢‡∏±‡∏á active ‡πÉ‡∏ô 60 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤
- **‡∏™‡∏π‡∏á (70%+)**: app ‡∏°‡∏µ engagement ‡∏î‡∏µ
- **‡∏ï‡πà‡∏≥ (30%-)**: app ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ retention

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### Scenario 1: App ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï üìà

```
Total Users: 200
- 7d:  45 users  
- 14d: 65 users
- 30d: 85 users  
- 60d: 105 users

Percentages:
- 7d:  ((45-65)/65)*100 = -31% üîª (‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤ recent activity ‡∏•‡∏î‡∏•‡∏á)
- 14d: ((65-85)/85)*100 = -24% üîª  
- 30d: ((85-105)/105)*100 = -19% üîª
- 60d: (105/200)*100 = 53% üéØ active rate
```

### Scenario 2: App ‡∏ó‡∏µ‡πà‡∏°‡∏µ engagement ‡∏î‡∏µ üéØ

```
Total Users: 100
- 7d:  35 users
- 14d: 45 users  
- 30d: 55 users
- 60d: 65 users

Percentages:
- 7d:  ((35-45)/45)*100 = -22% üîª
- 14d: ((45-55)/55)*100 = -18% üîª  
- 30d: ((55-65)/65)*100 = -15% üîª
- 60d: (65/100)*100 = 65% üéØ active rate
```

### Scenario 3: App ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ üìâ

```
Total Users: 500
- 7d:  15 users
- 14d: 25 users
- 30d: 40 users  
- 60d: 60 users

Percentages:
- 7d:  ((15-25)/25)*100 = -40% üîª (‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡πÅ‡∏¢‡πà)
- 14d: ((25-40)/40)*100 = -38% üîª
- 30d: ((40-60)/60)*100 = -33% üîª  
- 60d: (60/500)*100 = 12% üéØ active rate (‡∏ï‡πà‡∏≥‡∏°‡∏≤‡∏Å)
```

## ‡∏™‡∏µ Indicators

### Growth Percentage (7d, 14d, 30d)
- **üü¢ ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß**: ‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡∏ö‡∏ß‡∏Å (‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏î‡∏µ)
- **üî¥ ‡πÅ‡∏î‡∏á**: ‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡∏•‡∏ö (‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡πÑ‡∏°‡πà‡∏î‡∏µ)

### Activity Rate (60d)  
- **üîµ ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô**: ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£ active (neutral indicator)

## ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö

### ‡∏ó‡∏≥‡πÑ‡∏° 60d ‡πÑ‡∏°‡πà‡∏°‡∏µ Growth Percentage?
1. **‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö**: 60d ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏¢‡∏≤‡∏ß‡∏™‡∏∏‡∏î ‡πÑ‡∏°‡πà‡∏°‡∏µ 90d ‡∏´‡∏£‡∏∑‡∏≠ 120d ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö
2. **Activity Rate ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤**: ‡∏î‡∏π‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô active users ‡∏ï‡πà‡∏≠ total users
3. **Avoid Misleading**: ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö 30d ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ú‡∏¥‡∏î

### ‡∏ó‡∏≥‡πÑ‡∏°‡πÉ‡∏ä‡πâ "vs ‡∏ä‡πà‡∏ß‡∏á‡∏¢‡∏≤‡∏ß‡∏Å‡∏ß‡πà‡∏≤" ‡πÅ‡∏ó‡∏ô "vs ‡∏ä‡πà‡∏ß‡∏á‡∏™‡∏±‡πâ‡∏ô‡∏Å‡∏ß‡πà‡∏≤"?
1. **‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô**: 7d ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 14d = recent activity ‡∏•‡∏î‡∏•‡∏á
2. **‡∏™‡∏°‡∏à‡∏£‡∏¥‡∏á**: ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà active ‡πÉ‡∏ô 7d ‡∏à‡∏∞ active ‡πÉ‡∏ô 14d ‡∏î‡πâ‡∏ß‡∏¢ (subset)
3. **‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô False Positive**: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÅ‡∏ö‡∏ö‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡∏Ç‡πâ‡∏≤‡∏° ‡∏≠‡∏≤‡∏à‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏ö‡∏ß‡∏Å‡πÄ‡∏™‡∏°‡∏≠

## ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á

### ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏´‡∏°‡πà (‡πÄ‡∏ä‡πà‡∏ô 90d)
```typescript
const timeRanges = [
  { label: "7 days", days: 7, shortLabel: "7d" },
  { label: "14 days", days: 14, shortLabel: "14d" },
  { label: "30 days", days: 30, shortLabel: "30d" },
  { label: "60 days", days: 60, shortLabel: "60d" },
  { label: "90 days", days: 90, shortLabel: "90d" }, // ‡πÉ‡∏´‡∏°‡πà
];

// ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ 60d ‡∏à‡∏∞‡∏°‡∏µ growth percentage vs 90d
// ‡πÅ‡∏•‡∏∞ 90d ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á activity rate ‡πÅ‡∏ó‡∏ô
```

### ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Logic ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö
```typescript
// ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏ä‡πà‡∏ß‡∏á‡∏¢‡∏≤‡∏ß‡∏Å‡∏ß‡πà‡∏≤
// ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ historical data)
const lastMonth7d = getActiveUsersInDaysFromDate(7, lastMonthDate);
const thisMonth7d = getActiveUsersInDays(7);
const monthOverMonthGrowth = ((thisMonth7d - lastMonth7d) / lastMonth7d) * 100;
```
